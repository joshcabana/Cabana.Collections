/* CABANA â€“ Lazy Loading + Responsive Media */

/* Smooth fade-in for images once loaded */
img.lazy-load {
  opacity: 0;
  transition: opacity 400ms ease;
  background: linear-gradient(135deg, #f5f5f5 0%, #efefef 100%);
}

img.lazy-load.loaded {
  opacity: 1;
}

/* Shimmer placeholder with CABANA gold accent */
@keyframes cabanaShimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.lazy-shimmer {
  position: relative;
  overflow: hidden;
}

.lazy-shimmer::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    110deg,
    rgba(0, 0, 0, 0.03) 0%,
    rgba(0, 0, 0, 0.03) 40%,
    rgba(212, 175, 55, 0.14) 50%,
    rgba(0, 0, 0, 0.03) 60%,
    rgba(0, 0, 0, 0.03) 100%
  );
  background-size: 200% 100%;
  animation: cabanaShimmer 1.4s ease-in-out infinite;
  pointer-events: none;
}

/* Stop shimmer once media is loaded */
.lazy-shimmer.loaded::before,
img.lazy-load.loaded + .lazy-overlay,
video.lazy-load.loaded + .lazy-overlay {
  display: none;
}

/* Aspect-ratio utilities (hero: 16/9, product: 3/4, square: 1/1) */
.ar-16-9 {
  aspect-ratio: 16 / 9;
}

.ar-3-4 {
  aspect-ratio: 3 / 4;
}

.ar-1-1 {
  aspect-ratio: 1 / 1;
}

/* Responsive media container */
.responsive-media {
  position: relative;
  width: 100%;
  overflow: hidden;
  border-radius: 0.5rem;
  background: #f8f8f8;
}

.responsive-media img,
.responsive-media video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Error state for failed image loads */
img.lazy-load.error {
  opacity: 1;
  background: repeating-linear-gradient(
    45deg,
    rgba(212, 175, 55, 0.06),
    rgba(212, 175, 55, 0.06) 10px,
    rgba(0, 0, 0, 0.04) 10px,
    rgba(0, 0, 0, 0.04) 20px
  );
  border: 1px dashed rgba(212, 175, 55, 0.4);
}

.img-error-badge {
  position: absolute;
  right: 8px;
  bottom: 8px;
  background: rgba(0, 0, 0, 0.75);
  color: #fff;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 10px;
  letter-spacing: 0.08em;
}

/* Reduce motion preference */
@media (prefers-reduced-motion: reduce) {
  .lazy-shimmer::before {
    animation: none;
  }
  img.lazy-load {
    transition: none;
  }
}


